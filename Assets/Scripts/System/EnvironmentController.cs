using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class EnvironmentController : MonoBehaviour
{
    public List<GameObject> enemies;
    public GameObject player;
    public GameObject[] walls;
    public byte[,] maze;
    public GameObject wall;
    // Start is called before the first frame update
    void Start()
    {
        maze = new byte[,]
        //             0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 
                   { { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},//0
                     { 1,10,10,10,10,10,10,10,10,10,10,10,10, 1, 1,11,11,11,11,11,11,11,11,11,11,11,11, 1},//1
                     { 1,10, 1, 1, 1, 1,10, 1, 1, 1, 1, 1,10, 1, 1,11, 1, 1, 1, 1, 1,11, 1, 1, 1, 1,11, 1},//2
                     { 1,10, 1, 1, 1, 1,10, 1, 1, 1, 1, 1,10, 1, 1,11, 1, 1, 1, 1, 1,11, 1, 1, 1, 1,11, 1},//3
                     { 1,10, 1, 1, 1, 1,10, 1, 1, 1, 1, 1,10, 1, 1,11, 1, 1, 1, 1, 1,11, 1, 1, 1, 1,11, 1},//4
                     { 1,10,10,10,10,10,10,10,10,10,10,10,10, 0, 0,11,11,11,11,11,11,11,11,11,11,11,11, 1},//5
                     { 1,10, 1, 1, 1, 1,10, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1,11, 1, 1, 1, 1,11, 1},//6
                     { 1,10, 1, 1, 1, 1,10, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1,11, 1, 1, 1, 1,11, 1},//7
                     { 1,10,10,10,10,10,10, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1,11,11,11,11,11,11, 1},//8
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1},//9
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1},//10
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//11
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1,99,99, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//12
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1,99, 3,99,99,99,99, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//13
                     { 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4,99,99,99,99, 6, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8},//14
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1,99,99,99,99, 5,99, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//15
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//16
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},//17
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1}, // 18
                     { 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},
                     { 1,12,12,12,12,12,12, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0,13,13,13,13,13,13, 1},  //20
                     { 1,12, 1, 1, 1, 1,12, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1,13, 1, 1, 1, 1,13, 1},
                     { 1,12, 1, 1, 1, 1,12, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1,13, 1, 1, 1, 1,13, 1},  //22
                     { 1,12,12,12, 1, 1,12,12,12,12, 0, 0, 0, 0, 0, 0, 0, 0,13,13,13,13, 1, 1,13,13,13, 1},
                     { 1, 1, 1,12, 1, 1,12, 1, 1,12, 1, 1, 1, 1, 1, 1, 1, 1,13, 1, 1,13, 1, 1,13, 1, 1, 1},
                     { 1, 1, 1,12, 1, 1,12, 1, 1,12, 1, 1, 1, 1, 1, 1, 1, 1,13, 1, 1,13, 1, 1,13, 1, 1, 1}, // 25
                     { 1,12,12,12,12,12,12, 1, 1,12,12,12,12, 1, 1,13,13,13,13, 1, 1,13,13,13,13,13,13, 1},
                     { 1,12, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,12, 1, 1,13, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,13, 1},
                     { 1,12, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,12, 1, 1,13, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,13, 1},  //28
                     { 1,12,12,12,12,12,12,12,12,12,12,12,12, 0, 0,13,13,13,13,13,13,13,13,13,13,13,13, 1},
                     { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1} };//30
        MazeGenerator();
        SpawnPlayer();
    }

    // Update is called once per frame
    void Update()
    {
        
    }
    public void MazeGenerator()
    {
        walls = new GameObject[28 * 31];
        int j = 0;
        for (byte y = 0; y < 28; y++)
        {
            for (byte x = 0; x < 31; x++)
            {
                if (maze[x, y] == 1)
                {
                    GameObject cube = GameObject.Instantiate(wall, new Vector3(x, 0, y), Quaternion.identity);
                    //GameObject cube = GameObject.CreatePrimitive(PrimitiveType.Cube);
                    cube.transform.position = new Vector3(x, 0, y);
                    walls[j++] = cube;
                    
                }
                
            }
        }
        
    }
    public void SpawnPlayer()
    {
        for (byte y = 0; y < 28; y++)
        {
            for (byte x = 0; x < 31; x++)
            {
                if (maze[x, y] == 2)
                    player.transform.position = new Vector3(x, 0, y);
            }
        }
    }
    public bool IsWall(float x, float y)
    {

        if (maze[(byte)x , (byte)y] == 1)
            return true;
        else
            return false;
    }
}
